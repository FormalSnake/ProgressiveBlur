<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Progressive Blur Configuration</title>
    <meta name="description" content="Configure progressive blur in Figma!" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
    />
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: var(--figma-color-bg);
        color: var(--figma-color-text);
        padding: 20px;
      }
      form {
        margin-bottom: 20px;
      }
      h1 {
        margin-top: 0;
        color: #007bff;
      }
      h2 {
        margin-top: 20px;
        color: #555;
      }
      input[type="number"] {
        width: 100%;
        padding: 10px;
        margin-top: 20px;
        margin-bottom: 20px;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
      }
      button {
        background-color: #007bff;
        color: #fff;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        margin-top: 10px;
      }
      button:hover {
        background-color: #0056b3;
      }
    </style>
  </head>
  <body>
    <h1>Progressive Blur Generator (Alpha)</h1>
    <form id="configForm">
      <div>
        <label for="startingLayerBlur">Starting layer blur:</label>
        <input
          type="number"
          id="startingLayerBlur"
          name="startingLayerBlur"
          placeholder="Enter starting layer blur value"
          value="1.5"
          min="0.1"
          step="0.1"
        />
      </div>
      <div>
        <label for="maxLayerBlur">Max Layer Blur:</label>
        <input
          type="number"
          id="maxLayerBlur"
          name="maxLayerBlur"
          placeholder="Enter max layer blur value"
          value="40"
          min="1"
        />
      </div>
      <div>
        <label for="layerBlurIncrement">Layer Blur Increment:</label>
        <input
          type="number"
          id="layerBlurIncrement"
          name="layerBlurIncrement"
          placeholder="How much the layer blur should increment"
          value="0.5"
          min="0.1"
          step="0.1"
        />
      </div>
      <div>
        <label for="startingBackgroundBlur">Starting background blur:</label>
        <input
          type="number"
          id="startingBackgroundBlur"
          name="startingBackgroundBlur"
          placeholder="Enter starting background blur value"
          value="2"
          min="1"
        />
      </div>
      <div>
        <label for="maxBackgroundBlur">Max Background Blur:</label>
        <input
          type="number"
          id="maxBackgroundBlur"
          name="maxBackgroundBlur"
          placeholder="Enter max background blur value"
          value="50"
          min="1"
        />
      </div>
      <div>
        <label for="backgroundBlurIncrement">Background Blur Increment:</label>
        <input
          type="number"
          id="backgroundBlurIncrement"
          name="backgroundBlurIncrement"
          placeholder="How much the background blur should increment"
          value="1"
          min="0.1"
        />
      </div>
      <button type="button" onclick="passData()">Create the Blur!</button>
    </form>
    <h1>Documentation</h1>
    <p>
      Starting layer blur is the blur value of the first rectangle.<br />
      Max layer blur is the maximum intensity of the layer blur.<br />
      Layer blur increment is the amount by which the layer blur increases per
      rectangle.<br />
      Starting background blur is the initial blur value of the background.<br />
      Max background blur is the maximum intensity of the background blur.<br />
      Background blur increment is the amount by which the background blur
      increases per rectangle.<br />
      To make the transition between all rectangles smoother, you can adjust the
      negative gap in the Frame with auto-layout.
    </p>

    <script>
      function passData() {
        let startingLayerBlur =
          document.getElementById("startingLayerBlur").value;
        let maxLayerBlur = document.getElementById("maxLayerBlur").value;
        let layerBlurIncrement =
          document.getElementById("layerBlurIncrement").value;
        let startingBackgroundBlur = document.getElementById(
          "startingBackgroundBlur"
        ).value;
        let maxBackgroundBlur =
          document.getElementById("maxBackgroundBlur").value;
        let backgroundBlurIncrement = document.getElementById(
          "backgroundBlurIncrement"
        ).value;
        parent.postMessage(
          {
            pluginMessage: `${startingLayerBlur},${maxLayerBlur},${layerBlurIncrement},${startingBackgroundBlur},${maxBackgroundBlur},${backgroundBlurIncrement}`,
          },
          "*"
        );
      }
    </script>
  </body>
</html>
